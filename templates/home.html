<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kukur Panel</title>
<style>
body { font-family:'Segoe UI', sans-serif; background:#1e1e2f; color:#eee; padding:20px; }
h1,h2{color:#61dafb;} h1{text-align:center;}
button{background:#3a3f58; border:none; padding:10px 20px; margin:5px; color:#eee; cursor:pointer; border-radius:5px; font-size:1rem; transition:0.3s;}
button:hover{background:#61dafb;color:#1e1e2f;}
pre{background:#2d2d44; padding:15px; border-radius:8px; max-height:300px; overflow:auto;}
#FUCK_CODING { text-align:center; }
div { text-align:center; }
</style>
</head>
<body>
  <h1>Kukur Panel</h1>
<p id="FUCK_CODING">
  {% if latest_version %}
      Running {{ current_version }}{% if is_old %}, latest is {{ latest_version }} ⚠️{% endif %}
  {% else %}
      Running {{ current_version }}, unable to fetch latest version.
  {% endif %}
</p>

<div>
<button onclick="startServers()">Start Server(s)</button>
<button onclick="stopServers()">Stop Server(s)</button>
<button onclick="window.open('/files?type=server','_blank')">Open Server Files</button>
<button onclick="window.open('/files?type=bungee','_blank')">Open Bungee Files</button>
</div>

<h2>Main Server Logs</h2>
<pre id="server-log"></pre>
<h2>BungeeCord Proxy Logs</h2>
<pre id="bungee-log"></pre>

<h1> LINKS!!!</h1>
<div>
<a href="https://github.com/Anikthedev-Official/Kukur-panel" target="_blank">
  <img src="https://img.shields.io/badge/GitHub-Kukur%20Panel-blue?style=for-the-badge&logo=github" alt="GitHub Repo">
</a>
<a href="https://hub.docker.com/r/anikthedev/kukur-panel" target="_blank">
  <img src="https://img.shields.io/badge/Docker-Kukur%20Panel-blue?style=for-the-badge&logo=docker" alt="Docker Hub">
</a>
</div>

<script>
function fetchLogs() {
    fetch('/logs').then(r=>r.json()).then(data=>{
        document.getElementById('server-log').textContent=data.server_log;
        document.getElementById('bungee-log').textContent=data.bungee_log;
    });
}
setInterval(fetchLogs,1000);  // polling every second

function startServers(){ fetch('/start').then(r=>r.text()).then(msg=>alert(msg)); }
function stopServers(){ fetch('/stop').then(r=>r.text()).then(msg=>alert(msg)); }
</script>
</body>
</html>
